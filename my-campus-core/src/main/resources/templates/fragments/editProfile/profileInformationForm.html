<div
  class="card border-light shadow-sm mb-4"
  th:fragment="profileInformationForm"
  th:object="${user}"
  data-testid="profile-information-form"
>
  <div class="card-header bg-light">
    <h2 class="h5 mb-0 text-dark">
      <i class="bi bi-person-lines-fill me-2 text-secondary"></i>
      Personal Information
    </h2>
  </div>
  <div class="card-body bg-white">
    <div class="alert alert-info mb-4">
      <div class="d-flex">
        <div class="flex-shrink-0">
          <i class="bi bi-info-circle-fill fs-4"></i>
        </div>
        <div class="flex-grow-1 ms-3">
          <h5 class="alert-heading">Important Information</h5>
          <ul class="mb-0">
            <li>
              Please only update your <strong>first or last name</strong> if you
              have legally changed it through official channels
            </li>
            <li>
              Only update your <strong>address</strong> if you have permanently
              changed your residency
            </li>
          </ul>
        </div>
      </div>
    </div>
    <form
      th:action="@{/user/{id}/edit(id=${user.id})}"
      method="post"
      data-testid="profile-information-form-content"
    >
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label
              for="firstName"
              class="form-label text-muted"
              data-testid="profile-firstname-label"
              >First Name</label
            >
            <input
              type="text"
              class="form-control"
              id="firstName"
              th:value="${user.firstName}"
              name="firstName"
              required
              data-testid="profile-firstname-input"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label
              for="lastName"
              class="form-label text-muted"
              data-testid="profile-lastname-label"
              >Last Name</label
            >
            <input
              type="text"
              class="form-control"
              id="lastName"
              th:value="${user.lastName}"
              name="lastName"
              required
              data-testid="profile-lastname-input"
            />
          </div>
        </div>
      </div>

      <div class="mb-3">
        <label
          for="email"
          class="form-label text-muted"
          data-testid="profile-email-label"
          >Email</label
        >
        <input
          type="email"
          class="form-control"
          id="email"
          th:value="${user.email}"
          name="email"
          readonly
          data-testid="profile-email-input"
        />
        <small class="text-muted">Contact admin to change email</small>
      </div>

      <h5 class="mt-4 mb-3 text-muted">Address Information</h5>

      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="street" class="form-label text-muted">Street</label>
            <input
              type="text"
              class="form-control"
              id="street"
              th:value="${user.address?.street}"
              th:field="*{address.street}"
            />
          </div>
          <div class="mb-3">
            <label for="city" class="form-label text-muted">City</label>
            <input
              type="text"
              class="form-control"
              id="city"
              th:value="${user.address?.city}"
              th:field="*{address.city}"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="houseNumber" class="form-label text-muted"
              >House Number</label
            >
            <input
              type="text"
              class="form-control"
              id="houseNumber"
              th:value="${user.address?.houseNumber}"
              th:field="*{address.houseNumber}"
            />
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label for="zip" class="form-label text-muted">ZIP Code</label>
                <input
                  type="text"
                  class="form-control"
                  id="zip"
                  th:value="${user.address?.zip}"
                  th:field="*{address.zip}"
                />
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label for="country" class="form-label text-muted"
                  >Country</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="country"
                  th:value="${user.address?.country}"
                  th:field="*{address.country}"
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-end mt-3">
        <button
          type="submit"
          class="btn btn-dark px-4"
          data-testid="profile-information-save"
        >
          <i class="bi bi-check-circle me-2"></i> Update Profile
        </button>
      </div>
    </form>
  </div>
</div>
